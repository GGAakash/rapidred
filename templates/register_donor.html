{% extends "base.html" %}
{% block title %}Register Donor{% endblock %}

{% block content %}
<div class="card p-4 mx-auto" style="max-width:600px">

    <h3 class="text-danger text-center">Register as Donor</h3>

    {% if error %}
    <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    <form method="POST">
        <label>Name</label>
        <input class="form-control" name="name" required>

        <label class="mt-2">Blood Group</label>
        <select class="form-control" name="blood_group" required>
            <option>O+</option><option>O-</option><option>A+</option><option>A-</option>
            <option>B+</option><option>B-</option><option>AB+</option><option>AB-</option>
        </select>

        <label class="mt-2">Phone</label>
        <input class="form-control" name="phone" required>

        <label class="mt-2">Latitude</label>
        <input class="form-control" name="latitude" id="latitude" required>

        <label class="mt-2">Longitude</label>
        <input class="form-control" name="longitude" id="longitude" required>

        <button type="button" onclick="getLoc()" class="btn btn-success w-100 mt-3">üìç Use My Location</button>

        <button class="btn btn-primary w-100 mt-3">Submit</button>
    </form>

</div>

{% block scripts %}
<script>
function getLoc(){
    navigator.geolocation.getCurrentPosition(
        pos => {
            document.getElementById("latitude").value = pos.coords.latitude;
            document.getElementById("longitude").value = pos.coords.longitude;
        },
        err => alert("Please allow location access")
    );
}
</script>
{% endblock %}
{% endblock %}
